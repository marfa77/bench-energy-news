# Настройка блога из Notion

## Обзор

Блог синхронизируется из родительской страницы Notion, которая содержит дочерние страницы-статьи.

## Структура в Notion

```
BenchEnergy Blog (родительская страница)
├── Article 1 (дочерняя страница)
├── Article 2 (дочерняя страница)
└── Article 3 (дочерняя страница)
```

## Настройка

### 1. Получить ID родительской страницы

1. Откройте родительскую страницу блога в Notion
2. Скопируйте ID из URL:
   ```
   https://www.notion.so/pveselov/BenchEnergy-Blog-2f05f3821e2180e99cdef21e05a7a624
                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                                                    Это и есть PAGE_ID
   ```

### 2. Добавить в GitHub Secrets

1. GitHub → Settings → Secrets → Actions
2. Добавьте secret:
   - **Name**: `NOTION_BLOG_PAGE_ID`
   - **Secret**: ID родительской страницы (32 символа)

### 3. Подключить интеграцию к странице

1. Откройте родительскую страницу блога в Notion
2. Нажмите `...` в правом верхнем углу
3. Выберите **"Connections"** → **"Add connections"**
4. Выберите вашу Notion интеграцию (ту же, что используется для новостей)

## Синхронизация

Блог синхронизируется автоматически при каждом запуске GitHub Actions workflow `deploy-vercel.yml`.

### Ручная синхронизация

```bash
cd bot
python3 blog_sync.py
```

## Структура файлов

После синхронизации создаются файлы:

```
blog/
├── index.html          # Индексный файл со списком статей
├── article-1.html      # Статья 1
├── article-2.html      # Статья 2
└── article-3.html      # Статья 3
```

## URL структура

- `https://www.bench.energy/blog` - Список статей блога
- `https://www.bench.energy/blog/[slug]` - Отдельная статья

## SEO

Каждая статья блога включает:
- Meta теги (title, description)
- Open Graph разметку
- Schema.org разметку (BlogPosting)
- Канонические URL
- Структурированные данные

## Форматирование в Notion

Блог поддерживает следующие типы блоков Notion:
- Заголовки (H1, H2, H3)
- Параграфы
- Списки (маркированные и нумерованные)
- Цитаты
- Код
- Изображения
- Разделители

## Troubleshooting

### Блог не синхронизируется

1. Проверьте, что `NOTION_BLOG_PAGE_ID` добавлен в GitHub Secrets
2. Убедитесь, что интеграция подключена к родительской странице
3. Проверьте логи GitHub Actions

### Статьи не отображаются

1. Убедитесь, что в Notion есть дочерние страницы
2. Проверьте, что страницы не пустые
3. Проверьте логи синхронизации

### Ошибка "Page not found"

1. Проверьте правильность `NOTION_BLOG_PAGE_ID`
2. Убедитесь, что интеграция имеет доступ к странице
3. Проверьте, что ID скопирован полностью (32 символа)
